<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>배열의 데이터 정렬</title>
</head>
<body>

</body>
<script>
	var database = ["Oracle", "MySQL", "MongoDB", "SQLite", "Firebase"];
	// 데이터 정렬 전 출력
	document.writeln(database.join("-") + "<br/>");
	// 데이터 정렬
	database.sort();
	document.writeln(database.join("-") + "<br/>");
	
	// 숫자 데이터 정렬 - 문자로 취급해서 정렬
	var scores = [98, 76, 123, 87, 65, 78];
	// 데이터 정렬
	scores.sort();
	// 123이 가장 큰 수인데도 불구하고 가장 먼저 출력
	document.writeln(scores.join("-") + "<br/>");
	
	// 정렬에 사용할 함수를 대입해서 정렬
	// right-left를 하기되면 내림차순 정렬
	scores.sort(function(left, right){
		return left-right;
	});
	document.writeln(scores.join("-") + "<br/>");
	
	// 동일한 모양의 객체를 여러개 생성하고자 할 때는 생성자를 이용
	var Data = function(name, score, address){
		this.name = name;
		this.score = score;
		this.address = address;
		this.toString = function(){
			return "[" + this.name + ":" + this.score + "]";
		}
	}
	var ar = [new Data("홍범도", 98, "자성"),
		new Data("김좌진", 87, "홍성"),
		new Data("유관순", 88, "천안"),
		new Data("안중근", 99, "해주"),
		new Data("윤봉길", 79, "예산")];
	document.writeln("객체 생성 확인 출력 : " + ar + "<br/>");
	
	// 별도의 배교 메소드가 없으면 toString의 결과를 가지고 정렬
	ar.sort();
	document.writeln("sort 메소드 정렬 : " + ar + "<br/>");
	
	// score를 이용해서 오름차순 정렬하기
	ar.sort(function(left, right){
		return left.score - right.score;
	});
	document.writeln("score 오름차순 정렬 : " + ar + "<br/>");
	
	// name의 내림차순 정렬 - 자바스크립트는 문자열의 크기를 부동호로 판단 가능
	// 문자의 동일성 여부를 판단할 때 == 는 값만 비교합니다.
	// 자료형을 확인하지 않기 때문에 10 == "10" 이면 true
	// ===는 자료형도 확인하기 때문에 10 === "10" 이면 false
	ar.sort(function(left, right){
		if(left.name > right.name){
			return 1;
		}else if(left.name == right.name){
			return 0;
		}else{
			return -1;
		}
	});
	document.writeln("name 내림차순 정렬 : " + ar + "<br/>");
	
	// ar 배열에 있는 모든 요소의 score에 1을 더하기
	ar.forEach(function(element, index, array){
		return element.score = element.score + 1;
	});
	document.writeln("score에 1을 더하기 : " + ar + "<br/>");
	
	// ar 배열의 이름만 추출해서 새로운 배열 만들기 - map
	var newar = ar.map(function(element, index, array){
		return element.name;
	});
	document.writeln("이름만 추출 : " + newar + "<br/>");
	
	// ar 배열에 조건을 적용해서 조건에 맞는 데이터만 추출해서 배열 만들기 - filter : boolean을 리턴
	newar = ar.filter(function(element, index, array){
		return element.score > 90;
	});
	document.writeln("조건에 맞는 데이터만 추출 : " + newar + "<br/>");
</script>
</html>